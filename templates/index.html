{% extends "base.html" %}
{% block content %}

<div class="card-modern mb-4">

    <h3 class="mb-3">
        <i class="bi bi-search"></i> Buscar Cliente
    </h3>

    <form method="GET" action="{{ url_for('index') }}" class="d-flex gap-2">
        <input 
            type="text" 
            name="busca" 
            placeholder="Nome, CPF, telefone ou endereÃ§o..."
            value="{{ busca }}"
            class="form-control search-input"
        >
        <button class="btn btn-primary btn-modern">
            <i class="bi bi-search"></i> Buscar
        </button>
    </form>
</div>

<div class="d-flex justify-content-end mb-3">
    <a class="btn btn-success btn-modern" href="{{ url_for('novo_cliente') }}">
        <i class="bi bi-person-plus-fill"></i> Novo Cliente
    </a>
</div>

<div class="card-modern">
    <h3 class="mb-3"><i class="bi bi-people"></i> Lista de Clientes</h3>

    {% if clientes %}
        <ul class="list-group">
            {% for c in clientes %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <strong>{{ c.nome }}</strong><br>
                    <small class="text-muted">
                        Entrou em {{ c.data_entrada.strftime("%d/%m/%Y") }}
                    </small>
                </div>

                <a class="btn btn-outline-primary btn-sm" href="{{ url_for('cliente', id=c.id) }}">
                    Ver ficha
                </a>
            </li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="text-muted">Nenhum cliente encontrado.</p>
    {% endif %}
</div>

{% endblock %}
